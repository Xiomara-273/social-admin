<div class="admin-container">
  <header class="main-header">
    <div class="title-group">
      <h1>GESTI√ìN DE TORNEOS</h1>
      <p>Panel de Administraci√≥n Soccer Pro</p>
    </div>
    <button class="btn-primary" (click)="toggleModal()">
      <span class="icon">‚öΩ</span> NUEVO TORNEO
    </button>
  </header>

  <div class="tournament-grid">
  <div class="card" *ngFor="let t of tournamentService.tournaments()">
      <div class="card-header">
        <span class="badge" [attr.data-status]="t.estado">{{ t.estado }}</span>
        <h3>{{ t.nombre }}</h3>
      </div>
      
  

      <div class="card-body">
        <p><strong>Tipo:</strong> {{ t.tipo | uppercase }}</p>
        <p><strong>Premios:</strong> {{ t.premios }}</p>
        <p><strong>Cupos:</strong> {{ t.cupos }}</p>
      </div>

      <div class="card-actions">
    <div class="card-actions">
  <button class="btn-status" (click)="nextPhase(t.id, t.estado)">Avanzar Fase</button>
  <button class="btn-delete" (click)="deleteTournament(t.id)">üóëÔ∏è</button>
    </div>


      <div class="card-actions">
        <button class="btn-status" (click)="nextPhase(t.id, t.estado)">Avanzar Fase</button>
        <button class="btn-delete" (click)="deleteTournament(t.id)">üóëÔ∏è</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" *ngIf="isModalOpen()">
    <div class="modal-content animate-slide-in">
      <h2>Configurar Nuevo Torneo</h2>
      <form (ngSubmit)="saveTournament()">
        <div class="form-grid">
          <input type="text" [(ngModel)]="newTournament.nombre" name="nombre" placeholder="Nombre del Torneo" required>
          
          <select [(ngModel)]="newTournament.tipo" name="tipo">
            <option value="liga">Liga</option>
            <option value="eliminacion">Eliminaci√≥n Directa</option>
            <option value="grupos">Fase de Grupos</option>
          </select>

          <input type="date" [(ngModel)]="newTournament.fechaInicio" name="inicio">
          <input type="date" [(ngModel)]="newTournament.fechaFin" name="fin">
          
          <input type="number" [(ngModel)]="newTournament.cupos" name="cupos" placeholder="Cupos">
          <input type="number" [(ngModel)]="newTournament.costoInscripcion" name="costo" placeholder="Costo Inscripci√≥n">
          
          <textarea [(ngModel)]="newTournament.premios" name="premios" placeholder="Premios..."></textarea>
          <textarea [(ngModel)]="newTournament.reglas" name="reglas" placeholder="Reglas..."></textarea>
        </div>



        <div class="modal-buttons">
          <button type="button" class="btn-cancel" (click)="toggleModal()">Cancelar</button>
          <button type="submit" class="btn-save">Guardar Torneo</button>
        </div>
      </form>
    </div>
  </div>
</div>
